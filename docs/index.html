<html>
<head>
    <meta
        http-equiv="Content-Security-Policy"
        content="
            default-src 'self' *.gstatic.com *.googleapis.com neoatlantis-totp.firebaseapp.com code.jquery.com;
            script-src  'self' apis.google.com code.jquery.com;
            style-src   'self' cdn.firebase.com code.jquery.com fonts.googleapis.com;
        "
    >
    <meta charset="utf-8" />

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="config.js"></script>
    <script src="main.js"></script>
    <link type="text/css" rel="stylesheet" href="main.css" />
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />
    <link type="text/css" rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />

</head>
<body>

<div id="tabs">
    <ul>
        <li><a href="#tab-unavailable">Specify a Google Sheet</a></li>
        <li><a href="#tab-login">Login and Decrypt</a></li>
        <li><a href="#tab-display">TOTP codes</a></li>
        <li><a href="#tab-manage">Manage</a></li>
    </ul>

    <div id="tab-unavailable">
        <div>Please input a Google Spreadsheet URL.</div>
        <div><input name="sheetID" type="text" /></div>
        <div><button type="button">Load!</button></div>
    </div>

    <div id="tab-login">
        <div id="firebaseui-auth-container"></div>
    </div>

    <div id="tab-display">
        <div id="totp-table"> </div>
    </div>

    <div id="tab-manage">
        <div>
            Add a new authentication code generator. 
            Copy and paste the seed below.
        </div>
        <div>Provider: <input type="text" name="provider" /></div>
        <div>Secret: <input type="text" name="secret" /></div>
        <div name="testcode-container">
            Test code -- you may check this code with your provider.
            <span name="testcode"></span>
        </div>
        <div>
            <button type="button" name="test">Test</button>
            <button type="button" name="confirm" disabled>Add</button>
        </div>

        <hr />

        <div>
            By default, TOTP database is encrypted with a password that was
            generated randomly the first time you registered with this service.
            This can be changed to a personal password that is known only by 
            you.
            <p>
            To change password, enter your current and new passwords below.
        </div>
        <div>
            <div name="oldpassword">
                Old password: <input name="old-password" type="password" />
            </div>
            <div>
                New password: <input name="new-password" type="password" />
            </div>
            <div>
                Type password again: <input name="new-password2" type="password" />
            </div>
            <div><button type="button" name="change-password">Change Password</button></div>
        </div>
    </div>

</div>



<div id="decrypt-in-progress" title="Decrypting">
    <div></div>
</div>



</body>
</html>
